#############################################
#   OpenWrt Minimal Config for K2P MT7621   #
#     IPv4 + IPv6 + WiFi + LuCI + Firewall  #
#############################################

CONFIG_TARGET_ramips=y
CONFIG_TARGET_ramips_mt7621=y
CONFIG_TARGET_ramips_mt7621_DEVICE_phicomm_k2p=y

# 生成 gzip 镜像（节省空间）
CONFIG_TARGET_IMAGES_GZIP=y

###############
# 无线 WiFi 驱动 #
###############
CONFIG_PACKAGE_kmod-mt7615d=y
CONFIG_PACKAGE_kmod-mt7615d_dbdc=y

################
# IPv4 相关模块 #
################
# 默认已包含，但确保启用完整 dnsmasq（IPv4+IPv6）
CONFIG_PACKAGE_dnsmasq-full=y

###############
# 完整 IPv6 支持 #
###############
CONFIG_PACKAGE_dnsmasq_full_dhcpv6=y
CONFIG_PACKAGE_ipv6helper=y
CONFIG_PACKAGE_odhcp6c=y
CONFIG_PACKAGE_odhcpd-ipv6only=y

# IPv6 NAT/防火墙
CONFIG_PACKAGE_ip6tables=y
CONFIG_PACKAGE_ip6tables-nft=y
CONFIG_PACKAGE_kmod-ip6tables=y
CONFIG_PACKAGE_kmod-nf-nat6=y
CONFIG_PACKAGE_kmod-nf-conntrack6=y

###################
# LuCI Web 界面核心 #
###################
CONFIG_PACKAGE_luci=y
CONFIG_PACKAGE_luci-base=y
CONFIG_PACKAGE_luci-mod-admin-full=y
CONFIG_PACKAGE_luci-mod-system=y
CONFIG_PACKAGE_luci-mod-status=y
CONFIG_PACKAGE_luci-mod-network=y
CONFIG_PACKAGE_luci-theme-bootstrap=y

################
# 基础功能组件  #
################
CONFIG_PACKAGE_luci-app-firewall=y

# Busybox/系统工具
CONFIG_PACKAGE_opkg=y
CONFIG_PACKAGE_ca-certificates=y
CONFIG_PACKAGE_ip-full=y

##############
# 精简结束    #
##############
